<html>
	<head>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="js/three.min.js"></script>
		<script>


var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );




      var cubes = [];
      setInterval(function(){
    			var geometry = new THREE.BoxGeometry( 0.2, 0.2, 0.2 );

          var color = '#' + (function co(lor){   return (lor +=
  [0,1,2,3,4,5,6,7,8,9,'a','b','c','d','e','f'][Math.floor(Math.random()*16)])
  && (lor.length == 6) ?  lor : co(lor); })('');

    			var material = new THREE.MeshBasicMaterial( { color: color } );
    			var cube = new THREE.Mesh( geometry, material );
          cube.x = Math.random();
          cube.y = Math.random();
          cubes.push(cube);
    			scene.add( cube );
          console.log(cubes.length);
      }, 100)

			camera.position.z = 5;

			var render = function () {
				requestAnimationFrame( render );

        for (var i=0; i < cubes.length; i++){
            var cube = cubes[i];
    				cube.rotation.x += 0.1;
    				cube.rotation.y += 0.1;
    				cube.rotation.z += 0.1;
            cube.position.x += 0.1 * (0.5 - cube.x)
            cube.position.y += 0.1 * (0.5 - cube.y)
            cube.position.z += 0.1
        }
				renderer.render(scene, camera);
			};
			render();
		</script>
	</body>
</html>

